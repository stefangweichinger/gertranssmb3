<?xml version="1.0" encoding="ISO-8859-1"?>
<chapter id="Other-Clients">
<chapterinfo>
	&author.jelmer;
	&author.jht;
	&author.danshearer;
	<author>&person.jmcd;<contrib>OS/2</contrib></author>
	<pubdate>5 Mar 2001</pubdate>
	<author>&author.sgw;<contrib>Deutsche Übersetzung</contrib></author>
</chapterinfo>

<title>Samba und andere CIFS-Clients</title>

<para>Dieses Kapitel enthält client-spezifische Informationen.</para>

<sect1>
<title>Macintosh Clients</title>

<para>
Ja. <ulink url="http://www.thursby.com/">Thursby</ulink> hat einen CIFS-Client/Server namens <ulink url="http://www.thursby.com/products/dave.html">DAVE.</ulink>
Er wird gegen Windows 95, Windows NT /200x/XP und Samba auf Kompatibilität geprüft. Bei Verfassen
dieses Textes war DAVE in Version 4.1 erhältlich. Bitte konsultieren Sie Thursby's Web-Seite für mehr
Informationen zu diesem Produkt.
</para>

<para> 
Alternativen &smbmdash; Es gibt zwei freie Implementationen von Appletalk für einige Arten von
UNIX-Maschinen und noch einige kommerzielle mehr. Diese Produkte erlauben es Ihnen, 
native Datei- und Druck-Dienste für Macintosh-Benutzer anzubieten, ohne daß weitere Unterstützung
dafür auf dem Macintosh erforderlich wäre.
Die zwei freien Implementationen sind
<ulink url="http://www.umich.edu/~rsug/netatalk/">Netatalk,</ulink> und
<ulink url="http://www.cs.mu.oz.au/appletalk/atalk.html">CAP.</ulink>
Diese Packages bieten Macs das, was Samba Benutzern von MS Windows bietet.
Für mehr Informationen zu diesen Packages, Samba und Linux (sowie andere UNIX-basierende Systeme),
sehen Sie 
<ulink noescape="1" url="http://www.eats.com/linux_mac_win.html">http://www.eats.com/linux_mac_win.html.</ulink>
</para>

<para>Neuere Versionen des Macintosh (Mac OS X) enthalten Samba.</para>

</sect1>

<sect1>
<title>OS/2 Client</title>

	<sect2>
		<title>Das Konfigurieren von OS/2 Warp Connect oder OS/2 Warp 4</title>

		<para>Grundlegend brauchen Sie drei Komponenten:</para>
		
		<itemizedlist>
			<listitem>Den Datei- und Druck-Client (IBM Peer)</listitem>
			<listitem>TCP/IP (Internet support) </listitem>
			<listitem>Den <quote>NetBIOS über TCP/IP</quote>-Treiber (TCPBEUI)</listitem>
		</itemizedlist>
		
		<para>Das Installieren der ersten beiden, gemeinsam mit dem Basis-Betriebssystem,
		auf einem leeren System ist im Warp-Handbuch beschrieben. Wenn Warp bereits
		installiert wurde, Sie aber nun die Netzwerk-Unterstützung installieren wollen,
		verwenden Sie den Eintrag <quote>Selective Install for Networking</quote>
		im Ordner <quote>System Setup</quote> folder.</para>

		<para>Das Hinzufügen des <quote>NetBIOS über TCP/IP</quote>-Treibers wird nicht
		im Handbuch beschrieben und auch nur von der Online-Dokumentation gestreift.
		Starten Sie <command>MPTS.EXE</command>, klicken Sie auf <guiicon>OK</guiicon>,
		dann <guimenu>Configure LAPS</guimenu>, und auf 
		<guimenu>IBM OS/2 NETBIOS OVER TCP/IP</guimenu> unter <guilabel>Protocols</guilabel>.
		Diese Zeile wird dann in die <guilabel>Current Configuration</guilabel> verschoben.
		Wählen Sie diese Zeile aus, klicken Sie auf <guimenuitem>Change number</guimenuitem>
		und erhöhen Sie den Wert von 0 auf 1. Speichern Sie diese Konfiguration.</para>

		<para>Wenn der Samba-Server nicht in Ihrem lokalen Subnetz ist, können Sie
		optional IP-Namen und -Adressen dieser Server zur <guimenu>Names List</guimenu>
		hinzufügen, oder einen WINS-Server (NetBIOS Nameserver, in der 
		Terminologie von IBM und RFC) spezifizieren. Für Warp Connect brauchen Sie
		eventuell ein Update für den <constant>IBM Peer</constant>, um ihn auf dasselbe
		Level wie Warp 4 zu bringen. Sehen Sie dazu obige Webseite.</para>

	</sect2>
	
	<sect2>
		<title>Andere Versionen von OS/2 konfigurieren</title>
	
		<para>Dieser Abschnitt behandelt die Konfiguration von OS/2 Warp 3 (nicht Connect), OS/2 1.2, 1.3 oder 2.x.</para>
		
		<para>Sie können den freien Microsoft LAN Manager 2.2c Client für OS/2 
		verwenden, der unter
		<ulink noescape="1" url="ftp://ftp.microsoft.com/BusSys/Clients/LANMAN.OS2/">
		ftp://ftp.microsoft.com/BusSys/Clients/LANMAN.OS2/</ulink> erhältlich ist.
		Kurz gesagt, editieren Sie die Datei 
		<filename>\OS2VER</filename> im root-Verzeichnis der OS/2-Boot-Partition 
		und fügen Sie folgende Zeilen ein</para>
	
		<para><programlisting>
		20=setup.exe
		20=netwksta.sys
		20=netvdd.sys
		</programlisting></para>
		
		<para>bevor Sie den Client installieren. 
		Verwenden Sie den inkludierten NE2000-Treiber NICHT, da er fehlerhaft ist.
		Versuchen Sie anstattdessen den NE2000- oder NS2000-Treiber von
		<ulink noescape="1" url="ftp://ftp.cdrom.com/pub/os2/network/ndis/">
 		ftp://ftp.cdrom.com/pub/os2/network/ndis/</ulink>.
		</para>
	</sect2>
	
	<sect2>
		<title>Drucker-Treiber-Download für OS/2-Clients</title>

		<para>Legen Sie eine Freigabe namens <smbconfsection>[PRINTDRV]</smbconfsection> an,
		die world-readable ist. Kopieren Sie Ihre OS/2-Treiber-Dateien dorthin.
		Die <filename>.EA_</filename>-Dateien müssen jedoch weiter separat beleiben, also
		werden Sie die originalen Installations-Dateien benutzen müssen, und nicht einen
		installierten Treiber von einem OS/2-System kopieren können.
		</para>
		
		<para>Installieren Sie zuerst den NT-Treiber für diesen Drucker. Dann fügen Sie den 
		Parameter 
		<smbconfoption><name>os2 driver map</name><value><replaceable>filename</replaceable></value></smbconfoption> 
		zu Ihrer Datei &smb.conf; hinzu.

		Als Nächstes weisen Sie in der Datei, die durch <replaceable>filename</replaceable>
		bezeichnet wird, den NT-Treibernamen dem OS/2-Treibernamen zu, wie folgt:</para>

		<para><parameter><replaceable>nt driver name</replaceable> = <replaceable>os2 driver name</replaceable>.<replaceable>device name</replaceable></parameter>, e.g.</para>

		<para><parameter>
		HP LaserJet 5L = LASERJET.HP LaserJet 5L</parameter></para>

		<para>Sie können in dieser Datei mehrere Treiberzuweisungen vornehmen.</para>
	
		<para>Wenn Sie nur den OS/2-Treibernamen angeben, aber nicht den device-Namen,
		wird der erste Versuch zwar die Dateien laden, aber der OS/2-Client wird melden,
		daß der Treiber nicht verfügbar ist. Im zweiten Anlauf wird es funktionieren.
		Dies kann durch einfaches Hinzufügen des device-Namens behoben werden, wonach
		es schon beim ersten Versuch funktioniert.
		</para>
	</sect2>
</sect1>

<sect1>
<title>Windows for Workgroups</title>

<sect2>
<title>Neuester TCP/IP-Stack von Microsoft</title>

<para>Verwenden Sie den neuesten TCP/IP-Stack von Microsoft, wenn Sie Windows
for Workgroups einsetzen. Die frühen TCP/IP-Stacks hatten viele Bugs.</para>

<para> 
Microsoft hat ein inkrementelles Upgrade für seine TCP/IP 32-bit
VxD-Treiber veröffentlicht. Die letzte Release kann auf deren ftp-site
ftp.microsoft.com gefunden werden, 
in <filename>/peropsys/windows/public/tcpip/wfwt32.exe</filename>.
Es gibt dort auch eine Datei update.txt, die die gelösten Probleme beschreibt.
Neue Dateien sind
<filename>WINSOCK.DLL</filename>, 
<filename>TELNET.EXE</filename>, 
<filename>WSOCK.386</filename>, 
<filename>VNBT.386</filename>,
<filename>WSTCP.386</filename>, 
<filename>TRACERT.EXE</filename>, 
<filename>NETSTAT.EXE</filename>, und 
<filename>NBTSTAT.EXE</filename>.
</para>

</sect2>

<sect2>
<title>Das Löschen von .pwl-Dateien nach Passwort-Änderungen</title>

<para>
Windows for Workgroups arbeitet lausig, wenn es um Passwörter geht.
Wenn Sie Passwörter auf entweder der UNIX-Box oder dem PC ändern, ist es am sichersten, die
.pwl-Dateien im Windows-Verzeichnis zu löschen. Der PC wird sich darüber beschweren, diese Dateien
nicht zu finden, sich aber bald damit abfinden, und Ihnen erlauben, das neue Passwort einzugeben.
</para>

<para> 
Wenn Sie dies nicht tun, kann es sein, daß Windows for Workgroups sich an das alte Passwort erinnert,
und es verwendet, auch wenn Sie ein neues angegeben haben.
</para>

<para> 
Oft wird Windows for Workgroups ein Passwort gänzlich ignorieren, das sie in einer Dialog-Box
angeben.
</para>

</sect2>

<sect2>
<title>Das Konfigurieren des Umgangs mit Passwörtern in Windows for Workgroups</title>

<para>
Es gibt ein Programm namens <filename>admincfg.exe</filename>
auf der letzten Diskette (Diskette 8) des WFW-3.11-Diskettensatzes. Um es zu installieren,
geben Sie ein: <userinput>EXPAND A:\ADMINCFG.EX_ C:\WINDOWS\ADMINCFG.EXE</userinput>.
Fügen Sie dann ein Icon hinzu, über das Menü <guimenu>New</guimenu> im <application>Program Manager</application>.
Dieses Programm erlaubt Ihnen die Kontrolle darüber, wie WFW mit Passwörtern umgeht, z.B. das
Ausschalten von Passwort-Caching und so weiter.
</para>

</sect2>

<sect2>
<title>Password Case Sensitivity</title>

<para>Windows for Workgroups uppercases the password before sending it to the server.
UNIX passwords can be case-sensitive though. Check the &smb.conf; information on
<smbconfoption><name>password level</name></smbconfoption> to specify what characters
Samba should try to uppercase when checking.</para>

</sect2>

<sect2>
<title>Use TCP/IP as Default Protocol</title>

<para>To support print queue reporting, you may find
that you have to use TCP/IP as the default protocol under
Windows for Workgroups. For some reason, if you leave NetBEUI as the default,
it may break the print queue reporting on some systems.
It is presumably a Windows for Workgroups bug.</para>

</sect2>

<sect2>
<title>Speed Improvement</title>

<para>
	Note that some people have found that setting <parameter>DefaultRcvWindow</parameter> in
the <smbconfsection>[MSTCP]</smbconfsection> section of the 
<filename>SYSTEM.INI</filename> file under Windows for Workgroups to 3072 gives a
big improvement.
</para>

<para>
My own experience with DefaultRcvWindow is that I get a much better
performance with a large value (16384 or larger). Other people have
reported that anything over 3072 slows things down enormously. One
person even reported a speed drop of a factor of 30 when he went from
3072 to 8192.
</para>
</sect2>
</sect1>

<sect1>
<title>Windows 95/98</title>

<para>
When using Windows 95 OEM SR2, the following updates are recommended where Samba
is being used. Please note that the above change will effect you once these
updates  have been installed.
</para>

<para> 
There are more updates than the ones mentioned here. You are referred to the
Microsoft Web site for all currently available updates to your specific version
of Windows 95.
</para>

<simplelist>
<member>Kernel Update: KRNLUPD.EXE</member>
<member>Ping Fix: PINGUPD.EXE</member>
<member>RPC Update: RPCRTUPD.EXE</member>
<member>TCP/IP Update: VIPUPD.EXE</member>
<member>Redirector Update: VRDRUPD.EXE</member>
</simplelist>

<para>
Also, if using <application>MS Outlook,</application> it is desirable to 
install the <command>OLEUPD.EXE</command> fix. This
fix may stop your machine from hanging for an extended period when exiting
Outlook and you may notice a significant speedup when accessing network
neighborhood services.
</para>

<sect2>
<title>Speed Improvement</title>

<para>
Configure the Windows 95 TCP/IP registry settings to give better
performance. I use a program called <command>MTUSPEED.exe</command> that I got off the
Internet. There are various other utilities of this type freely available.
</para>

</sect2>

</sect1>

<sect1>
<title>Windows 2000 Service Pack 2</title>

<para> 
There are several annoyances with Windows 2000 SP2. One of which
only appears when using a Samba server to host user profiles
to Windows 2000 SP2 clients in a Windows domain. This assumes
that Samba is a member of the domain, but the problem will
most likely occur if it is not.
</para>

<para> 
In order to serve profiles successfully to Windows 2000 SP2 
clients (when not operating as a PDC), Samba must have 
<smbconfoption><name>nt acl support</name><value>no</value></smbconfoption>
added to the file share which houses the roaming profiles.
If this is not done, then the Windows 2000 SP2 client will
complain about not being able to access the profile (Access 
Denied) and create multiple copies of it on disk (DOMAIN.user.001,
DOMAIN.user.002, and so on). See the &smb.conf; man page
for more details on this option. Also note that the 
<smbconfoption><name>nt acl support</name></smbconfoption> parameter was formally a global parameter in
releases prior to Samba 2.2.2.
</para>

<para> 
<link linkend="minimalprofile"/> provides a minimal profile share.
</para>

<para><smbconfexample id="minimalprofile">
<title>Minimal profile share</title>
<smbconfsection>[profile]</smbconfsection>
<smbconfoption><name>path</name><value>/export/profile</value></smbconfoption>
<smbconfoption><name>create mask</name><value>0600</value></smbconfoption>
<smbconfoption><name>directory mask</name><value>0700</value></smbconfoption>
<smbconfoption><name>nt acl support</name><value>no</value></smbconfoption>
<smbconfoption><name>read only</name><value>no</value></smbconfoption>
</smbconfexample></para>

<para>
The reason for this bug is that the Windows 200x SP2 client copies
the security descriptor for the profile that contains
the Samba server's SID, and not the domain SID. The client
compares the SID for SAMBA\user and realizes it is
different from the one assigned to DOMAIN\user. Hence, the reason
for the <errorname>access denied</errorname> message.
</para>

<para>
By disabling the <smbconfoption><name>nt acl support</name></smbconfoption> parameter, Samba will send
the Windows 200x client a response to the QuerySecurityDescriptor trans2 call, which causes the client
to set a default ACL for the profile. This default ACL includes:
</para>

<para><emphasis>DOMAIN\user 	<quote>Full Control</quote></emphasis>></para>

<note><para>This bug does not occur when using Winbind to
create accounts on the Samba host for Domain users.</para></note>

</sect1>

<sect1>
<title>Windows NT 3.1</title>

<para>If you have problems communicating across routers with Windows 
NT 3.1 workstations, read <ulink url="http://support.microsoft.com/default.aspx?scid=kb;Q103765">this Microsoft Knowledge Base article.</ulink>

</para>

</sect1>

</chapter>
